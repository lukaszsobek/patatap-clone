<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<title>Patatap Clone</title>
	<script src="assets/script/lib/paper-full.min.js"></script>
	<script src="assets/script/lib/howler.min.js"></script>
	<link rel="stylesheet" href="assets/style/style.css">
	<script type="text/paperscript" canvas="myCanvas">

	// will hold all appearing circles
	var circles = []

	// number of mp3 files in the sound directory
	var soundFileNumber = 26


	// draws random circle
	function drawCircle(point,radius,color) {

		var output = new Path.Circle(point, radius)
		output.fillColor = color
		return output

	}


	// returns random value between 0-255
	function randomizeColor() {
		return Math.floor(Math.random() * 256)
	}


	// animate color and size
	function onFrame(event) {
		for(var i = 0; i < circles.length; i++) {
			circles[i].fillColor.hue += 1
			circles[i].scale(0.9)
			//console.log(circles[i].radius)
		}
	}


	// react to keypresses
	function onKeyDown(event) {

		// get character code of key pressed
		var keyPressed = event.key.charCodeAt()

		// select file to play based on character
		// code and amount of files in directory
		var fileToPlay = Math.floor(keyPressed % soundFileNumber)

		// play the sound
		var sound = new Howl({
  		src: ['assets/sound/ (' + fileToPlay + ').mp3']
		});
		sound.play();

		// get random point
		var maxPoint = new Point(view.size.width, view.size.height)
		var randomize = Point.random()
		var randomPoint = maxPoint * randomize


		// randomize color
		var randomColor = 
			"rgb(" 
			+ randomizeColor() + ", " 
			+ randomizeColor() + ", "
			+ randomizeColor() + ")"


		// create circle
		circles.push(drawCircle(randomPoint,500,randomColor))

	}


	</script>
</head>
<body>
	<canvas id="myCanvas" resize></canvas>
	<script src="assets/script/script.js"></script>
</body>
</html>